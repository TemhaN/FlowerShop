@model FlowerShop.Models.AdminDashboardViewModel

@{
    ViewData["Title"] = "Админ-панель";
}

<div class="container mx-auto px-4 py-12 max-w-7xl">
    <h1 class="text-3xl font-bold text-gray-800 mb-8">Админ-панель</h1>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="bg-white p-6 rounded-xl shadow-lg cursor-pointer hover:bg-gray-50 transition" onclick="window.location.href='/Admin/Users'">
            <h2 class="text-lg font-semibold text-gray-700">Пользователи</h2>
            <p class="text-2xl font-bold text-green-600">@Model.TotalUsers</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-lg cursor-pointer hover:bg-gray-50 transition" onclick="window.location.href='/Admin/Orders'">
            <h2 class="text-lg font-semibold text-gray-700">Заказы</h2>
            <p class="text-2xl font-bold text-green-600">@Model.TotalOrders</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-lg">
            <h2 class="text-lg font-semibold text-gray-700">Общая выручка</h2>
            <p class="text-2xl font-bold text-green-600">₸@Model.TotalRevenue.ToString("F2")</p>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <div class="bg-white p-6 rounded-xl shadow-lg cursor-pointer hover:bg-gray-50 transition" onclick="window.location.href='/Admin/Bouquets'">
            <h2 class="text-lg font-semibold text-gray-700">Букеты</h2>
            <p class="text-2xl font-bold text-green-600">@Model.TotalBouquets</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-lg cursor-pointer hover:bg-gray-50 transition" onclick="window.location.href='/Admin/Flowers'">
            <h2 class="text-lg font-semibold text-gray-700">Цветы</h2>
            <p class="text-2xl font-bold text-green-600">@Model.TotalFlowers</p>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-lg cursor-pointer hover:bg-gray-50 transition" onclick="window.location.href='/Admin/Toys'">
            <h2 class="text-lg font-semibold text-gray-700">Игрушки</h2>
            <p class="text-2xl font-bold text-green-600">@Model.TotalToys</p>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <div class="bg-white p-6 rounded-xl shadow-lg cursor-pointer hover:bg-gray-50 transition" onclick="window.location.href='/Admin/Reviews'">
            <h2 class="text-lg font-semibold text-gray-700">Отзывы</h2>
            <p class="text-2xl font-bold text-green-600">@Model.TotalReviews</p>
        </div>
    </div>

    <!-- Секция статистики -->
    <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Статистика</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Заказы за последнюю неделю</h3>
                <canvas id="ordersChart" class="w-full h-64"></canvas>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-gray-700 mb-4">Топ-5 популярных товаров</h3>
                <canvas id="topItemsChart" class="w-full h-64"></canvas>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script src="~/js/admin.js"></script>
    <script>
        loadStatistics();
    </script>
}